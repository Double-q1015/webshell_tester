# WebShell v15 特性说明

## 1. 基础架构

### 1.1 命名空间和类结构
- 使用随机生成的三层命名空间
- 主类使用随机生成的类名
- 方法名使用随机生成的小写字母组合

### 1.2 文件结构
- 主WebShell文件
- 伪装的普通类文件
- 使用include_once包含伪装文件

## 2. 核心特性

### 2.1 命令执行
- 使用system函数执行命令
- 通过ob_start/ob_get_clean捕获输出
- 包含标准错误输出(2>&1)
- 直接输出执行结果

### 2.2 代码执行
- 使用eval执行解密后的代码
- 简单的异常处理
- 静默失败机制

### 2.3 数据加密
- 多层加密处理
  - ROT13编码
  - Base64编码
  - XOR加密
- 随机密钥生成
- 三轮加密循环

## 3. 隐蔽特性

### 3.1 错误处理
- 禁用错误显示
- 静默失败返回
- 无错误信息泄露

### 3.2 类结构混淆
- 使用trait分离功能
- 单例模式实现
- 随机方法名生成

### 3.3 代码优化
- 移除所有调试信息
- 简化执行流程
- 最小化代码结构

## 4. 伪装特性

### 4.1 普通类伪装
- 看似普通的类文件
- 基本的类方法实现
- 合理的文件命名

### 4.2 垃圾代码
- 随机变量名生成
- 随机字符串赋值
- 保持代码结构自然

## 5. 改进方向

### 5.1 相比v14版本的改进
- 使用输出缓冲提高可靠性
- 简化了命令执行流程
- 移除了所有调试代码
- 更简洁的错误处理

### 5.2 安全性提升
- 无敏感函数名暴露
- 无调试信息泄露
- 更自然的代码结构

## 6. 使用方法

### 6.1 基本调用
```bash
curl -X POST http://your-domain/webshell.php -d "qaxniubi=command"
```

### 6.2 注意事项
- 使用POST方法
- 命令结果直接输出
- 错误静默处理
- 保持最小化交互 